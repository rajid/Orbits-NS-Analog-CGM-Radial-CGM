import e from"clock";import t from"document";import{battery as o}from"power";import{display as n}from"display";let r=t.getElementById("clock"),a=r.getElementById("clockFace"),l=t.getElementById("star"),g=a.getElementById("orbit"),s=g.getElementById("moonorbit"),i=g.getElementById("earth"),d=t.getElementById("earthImage"),m=s.getElementById("moon"),c=t.getElementById("moonImage"),y=a.getElementById("belt"),u=y.getElementById("asteroid"),p=a.getElementById("rays"),f=a.getElementById("cometorbit"),h=f.getElementById("comet"),I=!1;function E(e,t){return 30*e+.5*t}function B(e,t){return 6*e-t}function $(e){return 6*e}function v(e){return 360/7*e}export class clockFace{constructor(e){console.log(`add listener returned: ${n.addEventListener("change",this.changeDisplay)}`)}appName(){return"orbitsns"}aod(e){I=e,this.changeDisplay(I)}changeDisplay(t){console.log(`Change display here - aod is ${t} aodActive is ${n.aodActive}`),"true"==`${I}`||n.aodActive&&n.on?(console.log(`aod is ${t} aodActive is ${n.aodActive} and display.on is ${n.on}`),console.log("setting granularity to minutes"),e.granularity="minutes",d.href="earthOutline.png",c.href="moonOutline.png",l.href="starOutline.png"):(console.log("setting granularity to seconds"),e.granularity="seconds",d.href="earth_only.png",c.href="moon_only.png",l.href="star_only.png")}setHourColor(e){}setMinColor(e){}setSecColor(e){}setGradColor(e){}updateClock(t,n,r,a,l){console.log(`granularity is ${e.granularity}`);let d=a.getHours()%12,c=a.getMinutes(),I=a.getSeconds(),$=a.getDay(),T=o.chargeLevel;T=T*(t-n)/100+n,p.gradient.x2=T,p.gradient.y2=T;let C=E(d,c);g.groupTransform.rotate.angle=C;let b=B(c,C);for(;b<0;)b+=360;i.style.display="inline",i.groupTransform.rotate.angle=0-C;let k=360*c/60;s.groupTransform.rotate.angle=k,m.groupTransform.rotate.angle=0-k;let A=v($);if(y.groupTransform.rotate.angle=A,u.groupTransform.rotate.angle=B(I,0),0!=r&&r<=a){let e=r.getHours(),t=r.getMinutes();f.groupTransform.rotate.angle=E(e,t),h.style.display="inline"}else h.style.display="none"}};
